{"version":3,"file":"js/519.c1a3e1e7.js","mappings":"mRAA6H,EAAuD,W,IAAUA,EAAAA,KAAqBC,EAAG,W,OAAgFD,EAAAA,EAAAA,EAAZ,QAA+BE,MAAM,CAAC,aAAU,KAAuBC,CAAE,EAAC,K,YAAU,U,MAAiBC,C,GAAwB,OAAnD,QAApF,YAA2L,QAAgBF,CAAAA,EAAK,KAAC,qC,IAAC,O,YAAgB,O,MAA0B,CAAlD,+B,GAA4EG,CAAuBC,OAAS,SAAUC,GAA3C,OAAiDC,EAAIC,iBAArD,kCAAmFC,IAAjL,CAA4MT,EAAG,KAAgBC,MAAM,CAAC,MAAQ,QAAW,eAAe,WAAgB,MAAQM,EAAIG,OAAOC,MAAM,CAACP,MAAOG,EAAIK,KAAKC,MAAUR,SAAS,SAAUC,GAAMC,EAAIC,KAAKD,EAAIK,KAAM,UAAiB,EAACH,WAAW,gBAAmBT,EAAG,IAAD,CAAeC,MAAM,CAAC,MAAQ,WAAU,eAAe,gBAAgB,MAAQM,EAAIG,OAAOC,MAAM,CAACP,MAAOG,EAAIK,KAAKE,SAAST,SAAS,SAAUC,GAAMC,EAAIC,KAAKD,EAAIK,KAAM,WAAWN,EAAK,EAACG,WAAW,mBAAkBT,EAAG,KAAgBC,MAAM,CAAC,MAAQM,UAAU,eAAnB,gBAAkC,QAAlC,O,MAA6D,CAApE,qBAA8F,SAAC,YAAC,OAASA,EAAIQ,KAAAA,UAAAA,EAAd,EAA4Bf,WAAW,kBAAQ,MAAcY,C,MAAa,CAA5B,cAA6CZ,YAAW,GAACD,QAAY,GAAOE,SAAM,GAAC,MAAO,gBAAR,IAAsCM,OAAO,gB,OAE/1CS,MAAAA,CAEJ,IAASC,IAAQD,EAAAA,KAAAA,Q,2ICoBjB,GACAE,OACA,OACAR,MAAAA,CAAAA,KAAAA,GAAAA,0BACAE,KAAAA,CACAO,MAAAA,GACAN,SAAAA,GACAC,QAAAA,GACAM,MAAAA,IAEAA,MAAAA,GAEA,EACA,gBACA,qDACA,WACA,EACAC,QAAAA,CACAN,WAAAA,GACA,eACA,EACA,mBACA,qBAOA,GANAO,EAAAA,OAAAA,QAAAA,KAAAA,OACAA,EAAAA,OAAAA,QAAAA,KAAAA,KAAAA,OACAA,EAAAA,OAAAA,WAAAA,KAAAA,KAAAA,UACAA,EAAAA,OAAAA,UAAAA,KAAAA,KAAAA,UACAA,EAAAA,OAAAA,YAAAA,KAAAA,KAAAA,OAEA,4BACA,sDACA,mBAAAC,KAAAA,OAAAC,OAAAA,CAAAC,QAAAA,EAAAA,UACA,CACA,ICzDwP,I,UCOpPC,GAAY,OACd,EACAT,EACAD,GACA,EACA,KACA,KACA,MAIF,EAAeU,EAAiB,O","sources":["webpack://client/./src/views/EditPost.vue","webpack://client/src/views/EditPost.vue","webpack://client/./src/views/EditPost.vue?0290","webpack://client/./src/views/EditPost.vue?a193"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-container',[_c('v-row',{attrs:{\"no-gutters\":\"\"}},[_c('v-col',{staticClass:\"mx-auto\",attrs:{\"sm\":\"10\"}},[_c('v-card',{staticClass:\"pa-5\"},[_c('v-card-title',[_vm._v(\"Update Post\")]),_c('v-divider'),_c('v-form',{ref:\"form\",staticClass:\"pa-5\",attrs:{\"enctype\":\"multipart/form-data\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.updateForm.apply(null, arguments)}}},[_c('v-text-field',{attrs:{\"label\":\"Title\",\"prepend-icon\":\"mdi-note\",\"rules\":_vm.rules},model:{value:(_vm.post.title),callback:function ($$v) {_vm.$set(_vm.post, \"title\", $$v)},expression:\"post.title\"}}),_c('v-text-field',{attrs:{\"label\":\"Category\",\"prepend-icon\":\"mdi-view-list\",\"rules\":_vm.rules},model:{value:(_vm.post.category),callback:function ($$v) {_vm.$set(_vm.post, \"category\", $$v)},expression:\"post.category\"}}),_c('v-textarea',{attrs:{\"label\":\"Content\",\"prepend-icon\":\"mdi-note-plus\",\"rules\":_vm.rules},model:{value:(_vm.post.content),callback:function ($$v) {_vm.$set(_vm.post, \"content\", $$v)},expression:\"post.content\"}}),_c('v-file-input',{attrs:{\"rules\":_vm.rules,\"show-size\":\"\",\"counter\":\"\",\"multiple\":\"\",\"label\":\"Select Image\"},on:{\"change\":_vm.selectFile}}),_c('v-img',{attrs:{\"src\":`/${_vm.post.image}`,\"width\":\"120\"}}),_c('v-btn',{staticClass:\"mt-3\",attrs:{\"type\":\"submit\",\"color\":\"success\"}},[_vm._v(\"Update Post\")])],1)],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-container>\r\n    <v-row no-gutters>\r\n      <v-col sm=\"10\" class=\"mx-auto\">\r\n        <v-card class=\"pa-5\">\r\n          <v-card-title>Update Post</v-card-title>\r\n          <v-divider></v-divider>\r\n          <v-form @submit.prevent=\"updateForm\" ref=\"form\" class=\"pa-5\" enctype=\"multipart/form-data\">\r\n            <v-text-field v-model=\"post.title\" label=\"Title\" prepend-icon=\"mdi-note\" :rules=\"rules\"></v-text-field>\r\n            <v-text-field v-model=\"post.category\" label=\"Category\" prepend-icon=\"mdi-view-list\" :rules=\"rules\"></v-text-field>\r\n            <v-textarea v-model=\"post.content\" label=\"Content\" prepend-icon=\"mdi-note-plus\" :rules=\"rules\"></v-textarea>\r\n            <v-file-input @change=\"selectFile\" :rules=\"rules\" show-size counter multiple label=\"Select Image\"></v-file-input>\r\n            <v-img :src=\"`/${post.image}`\" width=\"120\"></v-img>\r\n            <v-btn type=\"submit\" class=\"mt-3\" color=\"success\">Update Post</v-btn>\r\n          </v-form>\r\n        </v-card>\r\n      </v-col>\r\n    </v-row>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nimport API from \"@/api\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      rules: [(value)=> !!value || \"This field is required\"],\r\n      post: {\r\n        title: '',\r\n        category: '',\r\n        content: '',\r\n        image: ''\r\n      },\r\n      image: ''\r\n    }\r\n  },\r\n  async created() {\r\n    const response = await API.getPostById(this.$route.params.id)\r\n    this.post = response\r\n  },\r\n  methods: {\r\n    selectFile(file) {\r\n      this.image = file[0]\r\n    },\r\n    async updateForm() {\r\n      const formData = new FormData();\r\n      formData.append('image', this.image)\r\n      formData.append('title', this.post.title)\r\n      formData.append('category', this.post.category)\r\n      formData.append('content', this.post.category)\r\n      formData.append('old_image', this.post.image)\r\n\r\n      if (this.$refs.form.validate()) {\r\n        const response = await API.updatePost(this.$route.params.id, formData)\r\n        this.$router.push({ name: 'home', params: { message: response.message } })\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./EditPost.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./EditPost.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EditPost.vue?vue&type=template&id=2e75d8e6&\"\nimport script from \"./EditPost.vue?vue&type=script&lang=js&\"\nexport * from \"./EditPost.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["staticClass","_c","attrs","on","$event","value","callback","$$v","_vm","$set","expression","rules","model","post","category","content","selectFile","staticRenderFns","render","data","title","image","methods","formData","name","params","message","component"],"sourceRoot":""}