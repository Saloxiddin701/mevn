"use strict";(self["webpackChunkclient"]=self["webpackChunkclient"]||[]).push([[519],{8519:function(t,e,s){s.r(e),s.d(e,{default:function(){return C}});var a=s(6190),o=s(9582),i=s(4886),l=s(266),r=s(2150),n=s(9223),p=s(1234),c=s(5125),u=s(5495),m=s(1713),d=s(8088),g=s(6072),h=function(){var t=this,e=t._self._c;return e(r.Z,[e(m.Z,{attrs:{"no-gutters":""}},[e(l.Z,{staticClass:"mx-auto",attrs:{sm:"10"}},[e(o.Z,{staticClass:"pa-5"},[e(i.EB,[t._v("Update Post")]),e(n.Z),e(c.Z,{ref:"form",staticClass:"pa-5",attrs:{enctype:"multipart/form-data"},on:{submit:function(e){return e.preventDefault(),t.updateForm.apply(null,arguments)}}},[e(d.Z,{attrs:{label:"Title","prepend-icon":"mdi-note",rules:t.rules},model:{value:t.post.title,callback:function(e){t.$set(t.post,"title",e)},expression:"post.title"}}),e(d.Z,{attrs:{label:"Category","prepend-icon":"mdi-view-list",rules:t.rules},model:{value:t.post.category,callback:function(e){t.$set(t.post,"category",e)},expression:"post.category"}}),e(g.Z,{attrs:{label:"Content","prepend-icon":"mdi-note-plus",rules:t.rules},model:{value:t.post.content,callback:function(e){t.$set(t.post,"content",e)},expression:"post.content"}}),e(p.Z,{attrs:{rules:t.rules,"show-size":"",counter:"",multiple:"",label:"Select Image"},on:{change:t.selectFile}}),e(u.Z,{attrs:{src:`/${t.post.image}`,width:"120"}}),e(a.Z,{staticClass:"mt-3",attrs:{type:"submit",color:"success"}},[t._v("Update Post")])],1)],1)],1)],1)],1)},f=[],Z=s(8332),y={data(){return{rules:[t=>!!t||"This field is required"],post:{title:"",category:"",content:"",image:""},image:""}},async created(){const t=await Z.Z.getPostById(this.$route.params.id);this.post=t},methods:{selectFile(t){this.image=t[0]},async updateForm(){const t=new FormData;if(t.append("image",this.image),t.append("title",this.post.title),t.append("category",this.post.category),t.append("content",this.post.category),t.append("old_image",this.post.image),this.$refs.form.validate()){const e=await Z.Z.updatePost(this.$route.params.id,t);this.$router.push({name:"home",params:{message:e.message}})}}}},b=y,v=s(1001),w=(0,v.Z)(b,h,f,!1,null,null,null),C=w.exports}}]);
//# sourceMappingURL=519.c1a3e1e7.js.map